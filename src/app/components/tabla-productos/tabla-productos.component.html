<table mat-table [dataSource]="productos" class="mat-elevation-z8">


  <ng-container matColumnDef="nombre">
    <th mat-header-cell *matHeaderCellDef> Nombre </th>
    <td mat-cell *matCellDef="let prod"> {{prod.nombre}} </td>
    <td mat-footer-cell *matFooterCellDef> TOTAL</td>
  </ng-container>

  <ng-container matColumnDef="isin">
    <th mat-header-cell *matHeaderCellDef> ISIN </th>
    <td mat-cell *matCellDef="let prod"> {{prod.isin}} </td>
    <td mat-footer-cell *matFooterCellDef> </td>
  </ng-container>

  <ng-container matColumnDef="participaciones">
    <th mat-header-cell *matHeaderCellDef> Participaciones </th>
    <td mat-cell *matCellDef="let prod"> {{getVolumen(prod) |  number}}</td>
    <td mat-footer-cell *matFooterCellDef> </td>
  </ng-container>
  <ng-container matColumnDef="precio">
    <th mat-header-cell *matHeaderCellDef> Precio Medio</th>
    <td mat-cell *matCellDef="let prod"> {{getPrecioMedio(prod) | currency:"EUR":"symbol"}}</td>
    <td mat-footer-cell *matFooterCellDef> </td>
  </ng-container>

  <ng-container matColumnDef="codigoBl">
    <th mat-header-cell *matHeaderCellDef> Codigo BL </th>
    <td mat-cell *matCellDef="let prod"> {{prod.codigoBl }} </td>
    <td mat-footer-cell *matFooterCellDef> </td>
  </ng-container>

  <ng-container matColumnDef="valor">
    <th mat-header-cell *matHeaderCellDef> Valor</th>
    <td mat-cell *matCellDef="let prod"> {{ getTotalValorProducto(prod) | currency:"EUR":"symbol"}}</td>
    <td mat-footer-cell *matFooterCellDef>{{getTotalValorCartera() | currency:"EUR":"symbol"}}</td>
  </ng-container>

  precioActual

  <ng-container matColumnDef="precioActual">
    <th mat-header-cell *matHeaderCellDef> Precio Actual</th>
    <td mat-cell *matCellDef="let prod"> {{ extraerPrecio(prod,'precioActual') | currency:"EUR":"symbol"}}</td>
    <td mat-footer-cell *matFooterCellDef>{{getTotalValorCartera() | currency:"EUR":"symbol"}}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
</table>

{{valorSpan}}